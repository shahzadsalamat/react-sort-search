(this["webpackJsonpreact-sort-search"]=this["webpackJsonpreact-sort-search"]||[]).push([[0],{19:function(e,t,a){e.exports=a(35)},24:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(17),i=a.n(n),l=a(9),c=a(5),u=a(6),o=a(8),m=a(7),d=a(12),h=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleUserFormChange=function(e){var t=e.target,a=t.name,s=t.value;r.setState({user:Object(l.a)(Object(l.a)({},r.state.user),{},Object(d.a)({},a,s))})},r.handleCreateUserSubmit=function(e){r.props.addNewUser(e),r.setState(r.intialState)},r.state={user:{firstName:"",lastName:"",phoneNumber:""}},r.intialState=r.state,r}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-wrapper"},s.a.createElement("input",{className:"input-form",type:"text",name:"firstName",placeholder:"firstName",value:this.state.user.firstName,onChange:this.handleUserFormChange}),s.a.createElement("input",{className:"input-form",type:"text",name:"lastName",value:this.state.user.lastName,placeholder:"lastName",onChange:this.handleUserFormChange}),s.a.createElement("input",{className:"input-form",type:"number",name:"phoneNumber",placeholder:"phoneNumber",value:this.state.user.phoneNumber,onChange:this.handleUserFormChange}),s.a.createElement("div",null,s.a.createElement("input",{className:"form-button bg-green",type:"button",value:"Add New User",onClick:this.handleCreateUserSubmit.bind(this,this.state.user)})))}}]),a}(r.Component),p=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleCancelEdit=function(){r.props.handleEditMode(!1)},r.handleEditUserSubmit=function(){var e=r.state.editUserData;r.props.editUserSubmit(e)},r.handleEditUserChange=function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;r.setState({editUserData:Object(l.a)(Object(l.a)({},r.state.editUserData),{},Object(d.a)({},a,s))})},r.user=r.props.user,r.state={editUserData:{firstName:r.user.firstName,lastName:r.user.lastName,phoneNumber:r.user.phoneNumber}},r}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-wrapper"},s.a.createElement("input",{className:"input-form",type:"text",placeholder:"firstName",name:"firstName",value:this.state.editUserData.firstName,onChange:this.handleEditUserChange}),s.a.createElement("input",{className:"input-form",type:"text",placeholder:"lastName",name:"lastName",value:this.state.editUserData.lastName,onChange:this.handleEditUserChange}),s.a.createElement("input",{className:"input-form",type:"number",pattern:"[0-9]*",inputmode:"numeric",placeholder:"phoneNumber",name:"phoneNumber",value:this.state.editUserData.phoneNumber,onChange:this.handleEditUserChange}),s.a.createElement("div",null,s.a.createElement("input",{className:"form-button bg-green color-white",type:"button",value:"Update",onClick:this.handleEditUserSubmit.bind(this)}),s.a.createElement("input",{className:"form-button bg-red color-white",type:"button",value:"cancel",onClick:this.handleCancelEdit})))}}]),a}(r.Component),b=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleDeleteUser=function(e){r.props.deleteUser(e)},r.handleEditUser=function(){r.setState({editMode:!0})},r.handleEditMode=function(e){r.setState({editMode:e})},r.editUserSubmit=function(e){r.props.editUserSubmit(e,r.props.user.id),r.setState({editMode:!1})},r.state={editMode:!1},r}return Object(u.a)(a,[{key:"render",value:function(){return this.state.editMode?s.a.createElement("div",null,s.a.createElement(p,{handleEditMode:this.handleEditMode,user:this.props.user,editUserSubmit:this.editUserSubmit})):s.a.createElement("div",{key:this.props.user.id},s.a.createElement("div",{className:"table-row"},s.a.createElement("div",{className:"table-col"},this.props.user.firstName),s.a.createElement("div",{className:"table-col"},this.props.user.lastName),s.a.createElement("div",{className:"table-col"},this.props.user.phoneNumber),s.a.createElement("div",{className:"table-col"},s.a.createElement("input",{className:"button",type:"button",value:"Delete",onClick:this.handleDeleteUser.bind(this,this.props.user)}),s.a.createElement("input",{className:"button",type:"button",value:"Edit",onClick:this.handleEditUser.bind(this,this.props.user)}))))}}]),a}(r.Component),f=(a(24),a(18).initializeApp({apiKey:"AIzaSyDhiJoVuXzy_Yjv1R31G0aTRe3bjz_C7RE",authDomain:"react-sort-search.firebaseapp.com",databaseURL:"https://react-sort-search.firebaseio.com",projectId:"react-sort-search",storageBucket:"react-sort-search.appspot.com",messagingSenderId:"1091374782527",appId:"1:1091374782527:web:e5c94817120b3a51c3808a",measurementId:"G-40RZTCKQ56"})),v=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).handleChange=function(t){e.props.sortDataTable(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.sortValues;return s.a.createElement("div",null,s.a.createElement("label",null,"Sort by:"),s.a.createElement("select",{className:"input-sort",onChange:this.handleChange},e.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)}))))}}]),a}(r.Component),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).handleChange=function(t){e.props.searchUser(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("input",{className:"input-search input-form",type:"text",name:"search",defaultValue:"",placeholder:"Search here",onChange:this.handleChange}))}}]),a}(r.Component),E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){f.database().ref().child("user").on("value",(function(e){var t=[];e.forEach((function(e){t.push({id:e.key,firstName:e.val().firstName,lastName:e.val().lastName,phoneNumber:e.val().phoneNumber})})),r.setState(Object(l.a)(Object(l.a)({},r.state.users),{},{users:t,filterUsers:t}))}))},r.editUserSubmit=function(e,t){f.database().ref().child("user/"+t).set(e)},r.deleteUser=function(e){f.database().ref().child("user/"+e.id).remove()},r.addNewUser=function(e){f.database().ref().child("user").push(e)},r.sortDataTable=function(e){var t=r.state.users.sort((function(t,a){return t[e].localeCompare(a[e])}));r.setState({filterUsers:t})},r.searchUser=function(e){r.setState({filterUsers:r.state.users});var t=r.state.users.filter((function(t){return null==e||t.firstName.toLowerCase().includes(e.toLowerCase())||t.lastName.toLowerCase().includes(e.toLowerCase())?t:null}));r.setState({filterUsers:t})},r.state={users:[],filterUsers:[]},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=Object.assign({},this.state.users[0]),a=Object.keys(t);return s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"container"},s.a.createElement(h,{addNewUser:this.addNewUser}),s.a.createElement("div",{className:"container-search-sort"},s.a.createElement("div",{className:"input-search"},s.a.createElement(N,{searchInputValue:this.state.searchInputValue,users:this.state.users,searchUser:this.searchUser})),s.a.createElement("div",{className:"input-sort"},s.a.createElement(v,{sortDataTable:this.sortDataTable,sortValues:a}))),s.a.createElement("div",null,s.a.createElement("div",{className:"table-wrapper"},s.a.createElement("div",{className:"table-header"},s.a.createElement("div",{className:"table-col"},"First Name"),s.a.createElement("div",{className:"table-col"},"Last Name"),s.a.createElement("div",{className:"table-col"},"Phone Number"),s.a.createElement("div",{className:"table-col"},"Action"))),this.state.filterUsers.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement(b,{user:t,deleteUser:e.deleteUser,editUserSubmit:e.editUserSubmit}))})))))}}]),a}(r.Component);i.a.render(s.a.createElement(E,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f3dbced0.chunk.js.map